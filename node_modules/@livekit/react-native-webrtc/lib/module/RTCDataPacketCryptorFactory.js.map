{"version":3,"names":["NativeModules","RTCDataPacketCryptor","WebRTCModule","RTCDataPacketCryptorFactory","createDataPacketCryptor","algorithm","keyProvider","params","_id","result","dataPacketCryptorFactoryCreateDataPacketCryptor","Error","dataPacketCryptorId"],"sources":["RTCDataPacketCryptorFactory.ts"],"sourcesContent":["import { NativeModules } from 'react-native';\n\nimport RTCDataPacketCryptor from './RTCDataPacketCryptor';\nimport RTCFrameCryptorAlgorithm from './RTCFrameCryptorFactory';\nimport RTCKeyProvider from './RTCKeyProvider';\nconst { WebRTCModule } = NativeModules;\n\nexport default class RTCDataPacketCryptorFactory {\n    static async createDataPacketCryptor(\n        algorithm: RTCFrameCryptorAlgorithm,\n        keyProvider: RTCKeyProvider\n    ): Promise<RTCDataPacketCryptor> {\n        const params = {\n            'algorithm': algorithm,\n            'keyProviderId': keyProvider._id\n        };\n        const result = await WebRTCModule.dataPacketCryptorFactoryCreateDataPacketCryptor(params);\n\n        if (!result) {\n            throw new Error('Error when creating data packet cryptor for sender');\n        }\n\n        return new RTCDataPacketCryptor(result.dataPacketCryptorId);\n    }\n}"],"mappings":"AAAA,SAASA,aAAa,QAAQ,cAAc;AAE5C,OAAOC,oBAAoB,MAAM,wBAAwB;AAGzD,MAAM;EAAEC;AAAa,CAAC,GAAGF,aAAa;AAEtC,eAAe,MAAMG,2BAA2B,CAAC;EAC7C,aAAaC,uBAAuBA,CAChCC,SAAmC,EACnCC,WAA2B,EACE;IAC7B,MAAMC,MAAM,GAAG;MACX,WAAW,EAAEF,SAAS;MACtB,eAAe,EAAEC,WAAW,CAACE;IACjC,CAAC;IACD,MAAMC,MAAM,GAAG,MAAMP,YAAY,CAACQ,+CAA+C,CAACH,MAAM,CAAC;IAEzF,IAAI,CAACE,MAAM,EAAE;MACT,MAAM,IAAIE,KAAK,CAAC,oDAAoD,CAAC;IACzE;IAEA,OAAO,IAAIV,oBAAoB,CAACQ,MAAM,CAACG,mBAAmB,CAAC;EAC/D;AACJ"}